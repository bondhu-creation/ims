"use strict";(self.webpackChunkims=self.webpackChunkims||[]).push([[3716],{3716:(h,d,o)=>{o.r(d),o.d(d,{ViewSubCategoryDetailsComponent:()=>O});var c=o(177),i=o(9475),g=o(765),_=o(9079),s=o(4774),f=o(6354),p=o(980),l=o(3186),t=o(7705),D=o(5816),E=o(6504),y=o(4710);function v(n,u){if(1&n&&t.nrm(0,"app-loader",4),2&n){const e=t.XpG();t.Y8G("isVisible",e.loading)}}function C(n,u){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"app-sub-category-form",5),t.bIt("actionEmitter",function(r){t.eBV(e);const m=t.XpG(2);return t.Njj(m.handleActions(r))}),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("formData",e.categoryDetails)}}function b(n,u){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"div",6)(2,"div",7)(3,"p"),t.EFF(4,"Name"),t.k0s(),t.j41(5,"p",8),t.EFF(6),t.k0s()(),t.j41(7,"div",7)(8,"p"),t.EFF(9,"Category Code"),t.k0s(),t.j41(10,"p",8),t.EFF(11),t.k0s()(),t.j41(12,"div",7)(13,"p"),t.EFF(14,"Parent Category Name"),t.k0s(),t.j41(15,"p",8),t.EFF(16),t.k0s()(),t.j41(17,"div",7)(18,"p"),t.EFF(19,"Description"),t.k0s(),t.j41(20,"p",8),t.EFF(21),t.k0s()(),t.j41(22,"div",7)(23,"p"),t.EFF(24,"Status"),t.k0s(),t.j41(25,"p",8),t.EFF(26),t.k0s()()(),t.j41(27,"div",9)(28,"div",10)(29,"secondary-button",11),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.goBack())}),t.k0s()()()()}if(2&n){const e=t.XpG(2);t.R7$(6),t.JRh(null==e.categoryDetails?null:e.categoryDetails.name),t.R7$(5),t.JRh(null==e.categoryDetails?null:e.categoryDetails.category_code),t.R7$(5),t.JRh(null==e.categoryDetails?null:e.categoryDetails.category_name),t.R7$(5),t.JRh(null==e.categoryDetails?null:e.categoryDetails.description),t.R7$(5),t.JRh(null==e.categoryDetails?null:e.categoryDetails.status),t.R7$(3),t.Y8G("label","Go Back")}}function M(n,u){if(1&n&&(t.j41(0,"div"),t.DNE(1,C,2,1,"div",3),t.DNE(2,b,30,6,"div",3),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.editMode),t.R7$(1),t.Y8G("ngIf",!e.editMode)}}let O=(()=>{class n{constructor(e,a,r,m,P){this._httpService=e,this._destroyRef=a,this._notificationService=r,this._activatedRoute=m,this._location=P,this.editMode=!1,this.loading=!1,this._activatedRoute.paramMap.pipe((0,f.T)(()=>window.history.state)).pipe((0,_.pQ)(this._destroyRef)).subscribe(R=>{this.editMode=R.edit})}ngOnInit(){this.loadItemDetails()}goBack(){this._location.back()}handleActions(e){"submit"===e.action?this.updateItemDetails(e.value):"back"===e.action&&this.goBack()}updateItemDetails(e){this.loading=!0,this._httpService.post(s.A.UPDATE_SUB_CATEGORY_DETAILS,e).pipe((0,_.pQ)(this._destroyRef),(0,p.j)(()=>this.loading=!1)).subscribe({next:a=>{this._notificationService.success("Success!",a?.body?.message),this._location.back()},error:a=>{console.log(a),this._notificationService.error("Error!",a?.error?.message)}})}loadItemDetails(){this.loading=!0,this._httpService.get(s.A.GET_SUB_CATEGORY_DETAILS,{oid:this.oid}).pipe((0,_.pQ)(this._destroyRef),(0,p.j)(()=>this.loading=!1)).subscribe({next:e=>{200===e.status&&(this.categoryDetails=e?.body?.data,console.log(this.categoryDetails))},error:e=>{console.log(e),this._notificationService.error("Error!",e?.error?.message)}})}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(D.k),t.rXU(t.abz),t.rXU(E.xY),t.rXU(y.nX),t.rXU(c.aZ))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-view-sub-category-details"]],inputs:{oid:"oid"},standalone:!0,features:[t.aNF],decls:5,vars:2,consts:[[1,"p-4","space-y-3"],[1,"text-2xl","font-medium","mb-4","animate-text"],[3,"isVisible",4,"ngIf"],[4,"ngIf"],[3,"isVisible"],[3,"formData","actionEmitter"],[1,"grid","grid-cols-1","gap-x-6","gap-y-4","md:grid-cols-3","border-[0.5px]","p-4","rounded-md"],[1,"space-y-1"],[1,"font-semibold","text-secondary"],[1,"flex","justify-end","mt-4"],[1,"flex","items-center","gap-4"],["type","button",3,"label","click"]],template:function(a,r){1&a&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"Sub Category Details"),t.k0s(),t.DNE(3,v,1,1,"app-loader",2),t.DNE(4,M,3,2,"div",3),t.k0s()),2&a&&(t.R7$(3),t.Y8G("ngIf",r.loading),t.R7$(1),t.Y8G("ngIf",!r.loading&&r.categoryDetails))},dependencies:[c.MD,c.bT,g.V,l.O,i.t]})}}return n})()},765:(h,d,o)=>{o.d(d,{V:()=>_});var c=o(177),i=o(7705);function g(s,f){1&s&&(i.j41(0,"div",1),i.nrm(1,"span")(2,"span")(3,"span")(4,"span")(5,"span"),i.k0s())}let _=(()=>{class s{constructor(){this.isVisible=!1,this.showLoader=!1}ngOnInit(){this.isVisible&&(this.showLoader=!0,setTimeout(()=>{this.showLoader=!1},500))}static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275cmp=i.VBU({type:s,selectors:[["app-loader"]],inputs:{isVisible:"isVisible"},standalone:!0,features:[i.aNF],decls:1,vars:1,consts:[["class","loading",4,"ngIf"],[1,"loading"]],template:function(l,t){1&l&&i.DNE(0,g,6,0,"div",0),2&l&&i.Y8G("ngIf",t.isVisible)},dependencies:[c.MD,c.bT],styles:[".loading[_ngcontent-%COMP%]{--speed-of-animation: .9s;--gap: 6px;--first-color: #4c86f9;--second-color: #49a84c;--third-color: #f6bb02;--fourth-color: #f6bb02;--fifth-color: #2196f3;display:flex;justify-content:center;align-items:center;gap:6px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:4px;height:50px;background:var(--first-color);animation:_ngcontent-%COMP%_scale var(--speed-of-animation) ease-in-out infinite}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){background:var(--second-color);animation-delay:-.8s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){background:var(--third-color);animation-delay:-.7s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){background:var(--fourth-color);animation-delay:-.6s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){background:var(--fifth-color);animation-delay:-.5s}@keyframes _ngcontent-%COMP%_scale{0%,40%,to{transform:scaleY(.05)}20%{transform:scaleY(1)}}"]})}}return s})()}}]);