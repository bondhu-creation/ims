<app-loader *ngIf="loading" [isVisible]="loading"></app-loader>
<div *ngIf="!loading" class="p-4 border rounded-md">
      <ul *ngIf="data.length" class="divide-y divide-gray-100">
            <ng-container *ngFor="let item of data">
                  <li class="grid md:grid-cols-3 gap-x-6 py-5">
                        <div class="flex min-w-0 gap-x-4">
                              <div class="min-w-0 flex-auto">
                                    <p class="text-sm/6 text-[#180B26] font-semibold">Invoice No: <span
                                                class="font-normal">{{ item?.invoice_no }}</span></p>
                                    <p class="text-sm/6 text-[#180B26] font-semibold">Total Price: <span
                                                class="font-normal">{{ item?.total_amount }}</span></p>
                              </div>
                        </div>
                        <div>
                              <p class="mt-1 truncate text-xs/5 text-gray-500 font-semibold">Total Item: <span
                                          class="font-normal">{{ item?.product_count }}</span></p>
                              <p class="mt-1 truncate text-xs/5 text-gray-500 font-semibold">Customer Name: <span
                                          class="font-normal">{{ item?.customer_name }}</span></p>
                        </div>
                        <div class="flex justify-end">
                              <div class="shrink-0 sm:flex sm:flex-col sm:items-center">
                                    <div class="mt-1 text-xs/5 text-black flex justify-center items-center gap-4">
                                          <!-- Delete Button with Bin Icon -->
                                          <button *ngIf="item?.status === 'Draft'" (click)="handleAction('delete', item)" nz-tooltip
                                                [nzTooltipTitle]="'Delete This Invoice'" [nzTooltipColor]="'volcano'">
                                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                                                      stroke-width="1.5" stroke="red" class="size-6">
                                                      <path
                                                            d="M6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V9C18 7.9 17.1 7 16 7H8C6.9 7 6 7.9 6 9V19ZM18 4H15.5L14.79 3.29C14.61 3.11 14.35 3 14.09 3H9.91C9.65 3 9.39 3.11 9.21 3.29L8.5 4H6C5.45 4 5 4.45 5 5C5 5.55 5.45 6 6 6H18C18.55 6 19 5.55 19 5C19 4.45 18.55 4 18 4Z" />
                                                </svg>
                                          </button>
                                          <!-- Edit Button -->
                                          <button *ngIf="item?.status === 'Draft'" (click)="handleAction('edit', item)" nz-tooltip
                                                [nzTooltipTitle]="'Edit This Invoice'" [nzTooltipColor]="'blue'">
                                                <i class="text-xl" nz-icon nzType="edit" nzTheme="outline"></i>
                                          </button>
                                          <button *ngIf="item?.status !== 'Draft'" class="mt-1" nz-tooltip [nzTooltipTitle]="'View This Invoice'"
                                                      [nzTooltipColor]="'blue'" (click)="handleAction('view', item)">
                                                      <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                                                            viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                                                            class="size-6">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" />
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                                      </svg>
                                                </button>
                                          <!-- Print Button -->
                                          <button *ngIf="item?.status !== 'Draft'" (click)="handleAction('print', item)" nz-tooltip
                                                [nzTooltipTitle]="'Print This Invoice'" [nzTooltipColor]="'blue'">
                                                <i class="text-xl" nz-icon nzType="printer" nzTheme="outline"></i>
                                          </button>
                                    </div>
                              </div>
                        </div>
                  </li>
            </ng-container>
      </ul>
      <div *ngIf="!data.length"
            class="flex flex-col items-center justify-center h-full text-center bg-gray-50 p-8 rounded-md space-y-4">
            <img src="assets/icons/no_data.svg" alt="No Data Found">
            <h2 class="text-lg font-semibold text-black">No Data Found</h2>
            <p class="text-black">Try refining your search or adding new data.</p>
      </div>
      <div class="bg-white grid grid-cols-1 h-16">
            <div class="flex items-center justify-end mr-6">
                  <nz-pagination [(nzPageIndex)]="currentIndex" [(nzPageSize)]="pageSize" [nzShowSizeChanger]="true"
                        [nzShowTotal]="rangeTemplate" [nzTotal]="totalCount"
                        (nzPageIndexChange)="onPageIndexChange($event)" (nzPageSizeChange)="onPageSizeChange($event)">
                  </nz-pagination>
                  <ng-template #rangeTemplate let-range="range" let-total>
                        {{ range[0] }} - {{ range[1] }} of {{ total }} items
                  </ng-template>
            </div>
      </div>
</div>