"use strict";(self.webpackChunkims=self.webpackChunkims||[]).push([[4631],{4631:(D,r,i)=>{i.r(r),i.d(r,{ViewAisleDetailsComponent:()=>T});var c=i(177),l=i(9475),d=i(765),p=i(5445),a=i(9079),m=i(4774),f=i(6354),_=i(980),g=i(4958),t=i(7705),v=i(5816),M=i(6504),E=i(4710);function O(s,h){if(1&s&&t.nrm(0,"app-loader",4),2&s){const e=t.XpG();t.Y8G("isVisible",e.loading)}}function C(s,h){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"app-aisle-form",5),t.bIt("actionEmitter",function(o){t.eBV(e);const u=t.XpG(2);return t.Njj(u.handleActions(o))}),t.k0s()()}if(2&s){const e=t.XpG(2);t.R7$(1),t.Y8G("formData",e.itemDetails)}}function P(s,h){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"div",6)(2,"div",7)(3,"p"),t.EFF(4,"Name"),t.k0s(),t.j41(5,"p",8),t.EFF(6),t.k0s()(),t.j41(7,"div",7)(8,"p"),t.EFF(9,"Code"),t.k0s(),t.j41(10,"p",8),t.EFF(11),t.k0s()(),t.j41(12,"div",7)(13,"p"),t.EFF(14,"Code"),t.k0s(),t.j41(15,"p",8),t.EFF(16),t.k0s()(),t.j41(17,"div",7)(18,"p"),t.EFF(19,"Capacity"),t.k0s(),t.j41(20,"p",8),t.EFF(21),t.k0s()(),t.j41(22,"div",7)(23,"p"),t.EFF(24,"Type Of Storage"),t.k0s(),t.j41(25,"p",8),t.EFF(26),t.k0s()(),t.j41(27,"div",7)(28,"p"),t.EFF(29,"Special Notes"),t.k0s(),t.j41(30,"p",8),t.EFF(31),t.k0s()(),t.j41(32,"div",7)(33,"p"),t.EFF(34,"Status"),t.k0s(),t.j41(35,"p",8),t.EFF(36),t.k0s()()(),t.j41(37,"div",9)(38,"div",10)(39,"secondary-button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.goBack())}),t.k0s()()()()}if(2&s){const e=t.XpG(2);t.R7$(6),t.JRh(null==e.itemDetails?null:e.itemDetails.name),t.R7$(5),t.JRh(null==e.itemDetails?null:e.itemDetails.code),t.R7$(5),t.JRh(null==e.itemDetails?null:e.itemDetails.warehouse_name),t.R7$(5),t.JRh(null==e.itemDetails?null:e.itemDetails.capacity),t.R7$(5),t.JRh(e.getStorageType(null==e.itemDetails?null:e.itemDetails.type_of_storage)),t.R7$(5),t.JRh(null==e.itemDetails?null:e.itemDetails.special_notes),t.R7$(5),t.JRh(null==e.itemDetails?null:e.itemDetails.status),t.R7$(3),t.Y8G("label","Go Back")}}function R(s,h){if(1&s&&(t.j41(0,"div"),t.DNE(1,C,2,1,"div",3),t.DNE(2,P,40,8,"div",3),t.k0s()),2&s){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.editMode),t.R7$(1),t.Y8G("ngIf",!e.editMode)}}let T=(()=>{class s{constructor(e,n,o,u,y,I){this._httpService=e,this._destroyRef=n,this._notificationService=o,this._router=u,this._activatedRoute=y,this._location=I,this.editMode=!1,this.loading=!1,this.storageTypes=[],this._activatedRoute.paramMap.pipe((0,f.T)(()=>window.history.state)).pipe((0,a.pQ)(this._destroyRef)).subscribe(A=>{this.editMode=A.edit})}ngOnInit(){console.log(this.oid),this.loadItemDetails(),this.storageTypes=g.V.STORAGE_TYPES}getStorageType(e){const n=this.storageTypes.find(o=>o.value==e);return n?n?.label:""}goBack(){this._location.back()}handleActions(e){"submit"===e.action?this.updateItemDetails(e.value):"back"===e.action&&this.goBack()}updateItemDetails(e){this.loading=!0,this._httpService.post(m.A.UPDATE_AISLE_DETAILS,e).pipe((0,a.pQ)(this._destroyRef),(0,_.j)(()=>this.loading=!1)).subscribe({next:n=>{this._notificationService.success("Success!",n?.body?.message),this._location.back()},error:n=>{console.log(n),this._notificationService.error("Error!",n?.error?.message)}})}loadItemDetails(){this.loading=!0,this._httpService.get(m.A.GET_AISLE_DETAILS,{oid:this.oid}).pipe((0,a.pQ)(this._destroyRef),(0,_.j)(()=>this.loading=!1)).subscribe({next:e=>{200===e.status&&(this.itemDetails=e?.body?.data,console.log(this.itemDetails))},error:e=>{console.log(e),this._notificationService.error("Error!",e?.error?.message)}})}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(v.k),t.rXU(t.abz),t.rXU(M.xY),t.rXU(E.Ix),t.rXU(E.nX),t.rXU(c.aZ))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-view-aisle-details"]],inputs:{oid:"oid"},standalone:!0,features:[t.aNF],decls:5,vars:2,consts:[[1,"p-4","space-y-3"],[1,"text-2xl","font-medium","mb-4","animate-text"],[3,"isVisible",4,"ngIf"],[4,"ngIf"],[3,"isVisible"],[3,"formData","actionEmitter"],[1,"grid","grid-cols-1","gap-x-6","gap-y-4","md:grid-cols-3","border-[0.5px]","p-4","rounded-md"],[1,"space-y-1"],[1,"font-semibold","text-secondary"],[1,"flex","justify-end","mt-4"],[1,"flex","items-center","gap-4"],["type","button",3,"label","click"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"Category Details"),t.k0s(),t.DNE(3,O,1,1,"app-loader",2),t.DNE(4,R,3,2,"div",3),t.k0s()),2&n&&(t.R7$(3),t.Y8G("ngIf",o.loading),t.R7$(1),t.Y8G("ngIf",!o.loading&&o.itemDetails))},dependencies:[c.MD,c.bT,d.V,p.M,l.t]})}}return s})()},765:(D,r,i)=>{i.d(r,{V:()=>p});var c=i(177),l=i(7705);function d(a,m){1&a&&(l.j41(0,"div",1),l.nrm(1,"span")(2,"span")(3,"span")(4,"span")(5,"span"),l.k0s())}let p=(()=>{class a{constructor(){this.isVisible=!1,this.showLoader=!1}ngOnInit(){this.isVisible&&(this.showLoader=!0,setTimeout(()=>{this.showLoader=!1},500))}static{this.\u0275fac=function(_){return new(_||a)}}static{this.\u0275cmp=l.VBU({type:a,selectors:[["app-loader"]],inputs:{isVisible:"isVisible"},standalone:!0,features:[l.aNF],decls:1,vars:1,consts:[["class","loading",4,"ngIf"],[1,"loading"]],template:function(_,g){1&_&&l.DNE(0,d,6,0,"div",0),2&_&&l.Y8G("ngIf",g.isVisible)},dependencies:[c.MD,c.bT],styles:[".loading[_ngcontent-%COMP%]{--speed-of-animation: .9s;--gap: 6px;--first-color: #4c86f9;--second-color: #49a84c;--third-color: #f6bb02;--fourth-color: #f6bb02;--fifth-color: #2196f3;display:flex;justify-content:center;align-items:center;gap:6px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:4px;height:50px;background:var(--first-color);animation:_ngcontent-%COMP%_scale var(--speed-of-animation) ease-in-out infinite}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){background:var(--second-color);animation-delay:-.8s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){background:var(--third-color);animation-delay:-.7s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){background:var(--fourth-color);animation-delay:-.6s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){background:var(--fifth-color);animation-delay:-.5s}@keyframes _ngcontent-%COMP%_scale{0%,40%,to{transform:scaleY(.05)}20%{transform:scaleY(1)}}"]})}}return a})()}}]);