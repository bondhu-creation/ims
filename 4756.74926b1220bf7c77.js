"use strict";(self.webpackChunkims=self.webpackChunkims||[]).push([[4756],{4756:(J,h,i)=>{i.r(h),i.d(h,{LayoutModule:()=>V});var l=i(177),u=i(4710),v=i(7109),t=i(7705),d=i(5088),C=i(9417),m=i(3769),k=i(6504),b=i(8018),E=i(9448),y=i(2e3),x=i(6122);function I(n,r){if(1&n&&(t.qSk(),t.joV(),t.j41(0,"span",12),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.JRh(e.notifications.length)}}function M(n,r){if(1&n&&t.nrm(0,"img",13),2&n){const e=t.XpG();t.Y8G("src",e.userInfo.photo,t.B4B)}}function j(n,r){if(1&n&&(t.j41(0,"div",14),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.SpI(" ",e.getFirstLetter(e.userInfo.name)," ")}}function w(n,r){if(1&n&&t.nrm(0,"img",29),2&n){const e=t.XpG(2);t.Y8G("src",e.userInfo.photo,t.B4B)}}function F(n,r){if(1&n&&(t.j41(0,"div",30),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.SpI(" ",e.getFirstLetter(e.userInfo.name)," ")}}function S(n,r){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",15),t.bIt("click",function(s){return s.stopPropagation()}),t.j41(2,"div",16),t.DNE(3,w,1,1,"img",17),t.DNE(4,F,2,1,"div",18),t.nrm(5,"nz-divider"),t.j41(6,"nz-descriptions",19)(7,"nz-descriptions-item",20)(8,"span",21),t.EFF(9),t.k0s()(),t.j41(10,"nz-descriptions-item",22)(11,"span",21),t.EFF(12),t.k0s()(),t.j41(13,"nz-descriptions-item",23)(14,"span",21),t.EFF(15),t.k0s()(),t.j41(16,"nz-descriptions-item",24)(17,"span",21),t.EFF(18),t.k0s()()(),t.nrm(19,"nz-divider"),t.k0s(),t.j41(20,"button",25),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.handleLogout())}),t.qSk(),t.j41(21,"svg",26),t.nrm(22,"path",27),t.k0s(),t.joV(),t.j41(23,"p",28),t.EFF(24," Sign Out "),t.k0s()()(),t.bVm()}if(2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",e.userInfo.photo),t.R7$(1),t.Y8G("ngIf",!e.userInfo.photo),t.R7$(2),t.Y8G("nzColumn",1),t.R7$(3),t.JRh(e.userInfo.name),t.R7$(3),t.JRh(e.userInfo.email),t.R7$(3),t.JRh(e.userInfo.mobile_number),t.R7$(3),t.JRh(e.userInfo.designation)}}function R(n,r){1&n&&(t.j41(0,"h2",31),t.EFF(1,"Profile"),t.k0s())}let T=(()=>{class n{constructor(e,o,s){this._authService=e,this._notificationService=o,this._translate=s,this.actionEmitter=new t.bkB,this.notifications=[],this.isDropdownOpen=!1,this.selectedLang="en",this.userInfo=this._authService.userInfo}ngOnInit(){const e=localStorage.getItem("app_lang");this.selectedLang=e&&["en","bn"].includes(e)?e:this._translate.currentLang||this._translate.getDefaultLang()||"en",this._translate.use(this.selectedLang),this.updateBodyClass(this.selectedLang)}switchLang(e){console.log("Switching language to:",e),this.selectedLang=e,this._translate.use(e),localStorage.setItem("app_lang",e),this.updateBodyClass(e)}updateBodyClass(e){document.body.classList.remove("lang-en","lang-bn"),document.body.classList.add(`lang-${e}`)}handleLogout(){this.actionEmitter.emit({action:"logout",value:null})}toggleNotifications(){console.log("toggleNotifications")}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}getFirstLetter(e){return e[0]}navigateTo(e){console.log(e)}handleNotificationClick(){this._notificationService.info("Sorry!","Sorry! This feature is not available right now!")}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.u),t.rXU(k.xY),t.rXU(b.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-profile-menu"]],outputs:{actionEmitter:"actionEmitter"},standalone:!0,features:[t.aNF],decls:13,vars:7,consts:[[1,"relative","pr-2"],[1,"relative","flex","items-center","gap-6","text-sm"],["type","button",1,"relative",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14V9a6 6 0 00-12 0v5c0 .386-.146.752-.405 1.095L4 17h5m6 0a3 3 0 11-6 0"],["class","absolute -top-2 -right-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full",4,"ngIf"],["type","button",3,"click"],["alt","User Avatar","class","w-10 h-10 rounded-full object-cover outline outline-1 outline-primary",3,"src",4,"ngIf"],["class","w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center font-medium text-gray-700 border",4,"ngIf"],[3,"nzVisible","nzSize","nzTitle","nzKeyboard","nzOnClose"],[4,"nzDrawerContent"],["profileDropdownHeader",""],[1,"absolute","-top-2","-right-2","bg-red-500","text-white","text-xs","px-1.5","py-0.5","rounded-full"],["alt","User Avatar",1,"w-10","h-10","rounded-full","object-cover","outline","outline-1","outline-primary",3,"src"],[1,"w-10","h-10","rounded-full","bg-gray-300","flex","items-center","justify-center","font-medium","text-gray-700","border"],[1,"flex","flex-col","justify-between","h-full",3,"click"],[1,"space-y-4"],["alt","User Avatar","class","w-20 h-20 mx-auto rounded-full object-cover outline outline-1 outline-primary",3,"src",4,"ngIf"],["class","w-20 h-20 mx-auto rounded-full bg-gray-300 flex items-center justify-center font-medium text-gray-700 border",4,"ngIf"],["nzTitle","Personal Details",3,"nzColumn"],["nzTitle","Full Name"],[1,"font-semibold"],["nzTitle","Account"],["nzTitle","Mobile No"],["nzTitle","Designation"],[1,"flex","w-full","justify-center","cursor-pointer","items-center","gap-2","rounded-md","p-2","outline","outline-1","outline-primary","hover:outline-none","hover:bg-[#DF1463]","hover:text-white","transition-all","duration-300","ease-in-out",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","aria-hidden","true",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M5.636 5.636a9 9 0 1012.728 0M12 3v9"],[1,"block","text-sm","leading-normal","antialiased"],["alt","User Avatar",1,"w-20","h-20","mx-auto","rounded-full","object-cover","outline","outline-1","outline-primary",3,"src"],[1,"w-20","h-20","mx-auto","rounded-full","bg-gray-300","flex","items-center","justify-center","font-medium","text-gray-700","border"],[1,"text-2xl","font-medium","animate-text"]],template:function(o,s){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"button",2),t.bIt("click",function(){return s.handleNotificationClick()}),t.qSk(),t.j41(3,"svg",3),t.nrm(4,"path",4),t.k0s(),t.DNE(5,I,2,1,"span",5),t.k0s(),t.joV(),t.j41(6,"button",6),t.bIt("click",function(){return s.toggleDropdown()}),t.DNE(7,M,1,1,"img",7),t.DNE(8,j,2,1,"div",8),t.k0s()(),t.j41(9,"nz-drawer",9),t.bIt("nzOnClose",function(){return s.toggleDropdown()}),t.DNE(10,S,25,7,"ng-container",10),t.k0s(),t.DNE(11,R,2,0,"ng-template",null,11,t.C5r),t.k0s()),2&o){const a=t.sdS(12);t.R7$(5),t.Y8G("ngIf",s.notifications.length),t.R7$(2),t.Y8G("ngIf",s.userInfo.photo),t.R7$(1),t.Y8G("ngIf",!s.userInfo.photo),t.R7$(1),t.Y8G("nzVisible",s.isDropdownOpen)("nzSize","default")("nzTitle",a)("nzKeyboard",!0)}},dependencies:[l.MD,l.bT,v.Z,E.j,y.xA,y.gr,x.vg,x.wk,d.iu,C.YN]})}}return n})(),D=(()=>{class n{constructor(){this.actionEmitter=new t.bkB}handleProfileMenuActions(e){"logout"===e.action&&this.handleLogout()}handleLogout(){this.actionEmitter.emit({action:"logout",value:null})}handleMenuOpen(){this.actionEmitter.emit({action:"menu_open",value:null})}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-navbar"]],outputs:{actionEmitter:"actionEmitter"},standalone:!0,features:[t.aNF],decls:7,vars:0,consts:[[1,"w-full","flex","justify-between","items-center","bg-white","p-5","drop-shadow-md"],[1,"flex","justify-start","gap-2","items-center"],["src","./assets/icons/hamburger.svg","alt","Menu Icon",1,"block","lg:hidden","h-8","w-8","p-1",3,"click"],["src","assets/icons/logo.svg","alt","Menu Icon",1,"block","h-8","w-8"],[1,"text-2xl","font-bold"],[3,"actionEmitter"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"img",2),t.bIt("click",function(){return s.handleMenuOpen()}),t.k0s(),t.nrm(3,"img",3),t.j41(4,"h2",4),t.EFF(5,"IMS"),t.k0s()(),t.j41(6,"app-profile-menu",5),t.bIt("actionEmitter",function(p){return s.handleProfileMenuActions(p)}),t.k0s()())},dependencies:[l.MD,T]})}}return n})(),g=(()=>{class n{static{this.adminPages=[{group:"Admin",items:[{icon:"assets/icons/dashboard.svg",label:"Dashboard",route:"/admin/dashboard"},{icon:"assets/icons/user.svg",label:"User",route:"/admin/user"}]}]}static{this.managerPages=[{group:"",items:[{icon:"assets/icons/dashboard.svg",label:"Dashboard",route:"/manager/dashboard"}]},{group:"Configuration",items:[{icon:"assets/icons/category.svg",label:"Category",route:"/manager/configuration/category"},{icon:"assets/icons/sub_category.svg",label:"Sub Category",route:"/manager/configuration/sub-category"},{icon:"assets/icons/source.svg",label:"Supplier",route:"/manager/configuration/supplier"},{icon:"assets/icons/product.svg",label:"Product",route:"/manager/configuration/product"},{icon:"assets/icons/warehouse.svg",label:"Warehouse",route:"/manager/configuration/warehouse"},{icon:"assets/icons/shelf.svg",label:"Aisle/Zone",route:"/manager/configuration/aisle"}]},{group:"Inventory",items:[{icon:"assets/icons/inventory.svg",label:"Overview",route:"/manager/inventory/overview"},{icon:"assets/icons/purchase.svg",label:"Purchase Order",route:"/manager/inventory/purchase-order"},{icon:"assets/icons/invoice.svg",label:"Invoice",route:"/manager/inventory/invoice"},{icon:"assets/icons/product-return.svg",label:"Product Return",route:"/manager/inventory/product-return"},{icon:"assets/icons/dispose.svg",label:"Dispose",route:"/manager/inventory/product-dispose"}]},{group:"Employee",items:[{icon:"assets/icons/calendar.svg",label:"Attendance",route:"/manager/employee/attendance"}]}]}static{this.salesPages=[{group:"Sales",items:[{icon:"assets/icons/purchase.svg",label:"Quick Sale",route:"/sales/quick-sale"},{icon:"assets/icons/invoice.svg",label:"Invoice",route:"/sales/invoice"},{icon:"assets/icons/product-return.svg",label:"Product Return",route:"/sales/product-return"}]},{group:"Shared",items:[{icon:"assets/icons/calendar.svg",label:"Attendance",route:"/shared/attendance"}]}]}}return n})();var c=i(3887);let L=(()=>{class n{constructor(e){this.translate=e}transform(e){const o=this.translate.instant(e);return o===e?e:o}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(b.c$,16))}}static{this.\u0275pipe=t.EJ8({name:"smartTranslate",type:n,pure:!1,standalone:!0})}}return n})();function N(n,r){if(1&n&&t.nrm(0,"svg-icon",9),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.icon)}}const P=function(n){return{"border-l-8 border-l-[#594ED1] bg-[#E7EAEF]":n}};function z(n,r){if(1&n&&(t.j41(0,"div",5)(1,"div",6),t.DNE(2,N,1,1,"svg-icon",7),t.j41(3,"span",8),t.EFF(4),t.nI1(5,"smartTranslate"),t.k0s()()()),2&n){const e=r.$implicit,o=t.XpG(2);t.R7$(1),t.Y8G("routerLink",e.route)("ngClass",t.eq3(6,P,o.isActive(e.route))),t.R7$(1),t.Y8G("ngIf",e.icon),t.R7$(2),t.SpI(" ",t.bMT(5,4,e.label)," ")}}function G(n,r){if(1&n&&(t.j41(0,"div")(1,"div",2)(2,"p",3),t.EFF(3),t.k0s(),t.DNE(4,z,6,8,"div",4),t.k0s()()),2&n){const e=r.$implicit;t.R7$(3),t.JRh(null==e?null:e.group),t.R7$(1),t.Y8G("ngForOf",e.items)}}let A=(()=>{class n{constructor(e,o){this._authService=e,this._router=o,this.actionEmitter=new t.bkB,this.userRole="",this.menu=[]}ngOnInit(){this.userRole=this._authService.currentUserRole,this.userRole===c.gg.ADMIN?this.menu=g.adminPages:this.userRole===c.gg.MANAGER||this.userRole===c.gg.GUEST?this.menu=g.managerPages:this.userRole===c.gg.SALESMAN&&(this.menu=g.salesPages)}isActive(e){return this._router.url===e||this._router.url.startsWith(e+"/")}handleClick(){this.actionEmitter.emit({action:"menu_click",value:null})}toggleChildren(e){e.expanded=!e.expanded,console.log(e)}handleChildClick(e){console.log(`${e.label} clicked`)}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.u),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-sidebar"]],outputs:{actionEmitter:"actionEmitter"},standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[1,"overflow-y-auto","text-black","h-full","p-4","scrollbar-thin","scrollbar-thumb-[#594ED1]","scrollbar-track-gray-200"],[4,"ngFor","ngForOf"],[1,"mb-4"],[1,"text-[#777777]","font-semibold"],["class","my-2",4,"ngFor","ngForOf"],[1,"my-2"],[1,"flex","items-center","gap-4","p-1","rounded","cursor-pointer","duration-150","ease-in-out","transition-all","hover:bg-[#E7EAEF]","hover:border-l-8","hover:border-l-[#594ED1]","tracking-wide","font-medium",3,"routerLink","ngClass"],["class","transition-transform duration-150 ease-in-out",3,"src",4,"ngIf"],[1,"text-balance","text-base","text-[#1C1C1D]","transition-colors","duration-150","ease-in-out"],[1,"transition-transform","duration-150","ease-in-out",3,"src"]],template:function(o,s){1&o&&(t.j41(0,"div",0),t.DNE(1,G,5,2,"div",1),t.k0s()),2&o&&(t.R7$(1),t.Y8G("ngForOf",s.menu))},dependencies:[l.MD,l.YU,l.Sq,l.bT,u.Wk,d.iu,d.DM,L],styles:["svg-icon.icon-white[_ngcontent-%COMP%]{fill:#fff}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1;border-radius:10px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#594ed1;border-radius:10px;border:2px solid #f1f1f1}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}"]})}}return n})(),_=(()=>{class n{ngOnInit(){this.currentYear=(new Date).getFullYear()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-footer"]],standalone:!0,features:[t.aNF],decls:3,vars:1,consts:[[1,"w-full","flex","justify-center","items-center","border-t","border-gray-200"],[1,"text-sm","p-3"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"p",1),t.EFF(2),t.k0s()()),2&o&&(t.R7$(2),t.SpI("IMS \xa9",s.currentYear," Implemented By Sakib"))},dependencies:[l.MD]})}}return n})();function O(n,r){1&n&&(t.j41(0,"div",2)(1,"div",3),t.nrm(2,"div",4),t.k0s()())}function $(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",15)(1,"div",16),t.bIt("click",function(s){t.eBV(e);const a=t.XpG(2);return t.Njj(a.onOverlayClick(s))}),t.k0s(),t.j41(2,"app-sidebar",17),t.bIt("click",function(s){t.eBV(e);const a=t.XpG(2);return t.Njj(a.onSidebarClick(s))})("actionEmitter",function(s){t.eBV(e);const a=t.XpG(2);return t.Njj(a.onMenuItemClick(s))}),t.k0s()()}}function U(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"app-navbar",6),t.bIt("actionEmitter",function(s){t.eBV(e);const a=t.XpG();return t.Njj(a.handleActions(s))}),t.k0s(),t.j41(2,"div",7),t.nrm(3,"app-sidebar",8),t.DNE(4,$,3,0,"div",9),t.j41(5,"div",10)(6,"div",11)(7,"div",12)(8,"div",13),t.nrm(9,"router-outlet"),t.k0s()()(),t.nrm(10,"app-footer",14),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(4),t.Y8G("ngIf",e.isMenuOpen)}}const f=(n,r)=>{const e=(0,t.WQX)(m.u),o=(0,t.WQX)(u.Ix);return!e.currentUserRole||!!n.data.roles.map(p=>p==e.currentUserRole).includes(!0)||(o.navigate([c.YM.LOGIN_ROUTE]),!1)},B=[{path:"",component:(()=>{class n{constructor(e){this.authService=e,this.isMenuOpen=!1}handleLogout(){this.authService.logout()}handleActions(e){"logout"===e.action&&this.handleLogout(),"menu_open"===e.action&&(this.isMenuOpen=!0)}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}onOverlayClick(e){e.target===e.currentTarget&&this.toggleMenu()}onSidebarClick(e){e.stopPropagation()}onMenuItemClick(e){this.toggleMenu()}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.u))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-layout"]],standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["class","h-screen flex justify-center items-center",4,"ngIf"],["class","h-screen flex flex-col",4,"ngIf"],[1,"h-screen","flex","justify-center","items-center"],[1,"mx-auto"],[1,"home_loader"],[1,"h-screen","flex","flex-col"],[1,"flex-none",3,"actionEmitter"],[1,"flex","flex-grow","overflow-hidden"],[1,"hidden","lg:block","lg:w-64","bg-white","flex-none"],["class","lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50 opacity-100 duration-300 transition ease-in-out",4,"ngIf"],[1,"flex-grow","flex","flex-col"],[1,"flex-grow","overflow-auto","bg-[#E7EAEF]","stockflow-scrollbar"],[1,"p-4","shadow-inherit","rounded-md"],[1,"bg-white","rounded-md","shadow-lg","mb-14"],[1,"fixed","bottom-0","left-0","right-0","lg:flex","justify-end","gap-4","border-t","border-gray-200","bg-white","bg-opacity-50","backdrop-blur-sm","lg:ml-64","z-50"],[1,"lg:hidden","fixed","inset-0","bg-black","bg-opacity-50","z-50","opacity-100","duration-300","transition","ease-in-out"],[1,"w-full","h-full",3,"click"],[1,"w-64","bg-white","fixed","left-0","top-0","h-full","z-20","transition-transform","duration-300","transform","translate-x-0","ease-in-out",3,"click","actionEmitter"]],template:function(o,s){1&o&&(t.DNE(0,O,3,0,"div",0),t.DNE(1,U,11,1,"div",1)),2&o&&(t.Y8G("ngIf",s.authService.isLoading),t.R7$(1),t.Y8G("ngIf",!s.authService.isLoading))},dependencies:[l.MD,l.bT,u.n3,v.Z,D,A,_]})}}return n})(),children:[{path:"",redirectTo:"redirect",pathMatch:"full"},{path:"redirect",loadComponent:()=>i.e(919).then(i.bind(i,919)).then(n=>n.RedirectComponent)},{path:"admin",loadChildren:()=>Promise.all([i.e(2076),i.e(3143)]).then(i.bind(i,3143)).then(n=>n.AdminModule),canActivate:[f],data:{roles:[c.gg.ADMIN]}},{path:"manager",loadChildren:()=>Promise.all([i.e(2076),i.e(1175)]).then(i.bind(i,1175)).then(n=>n.ManagerModule),canActivate:[f],data:{roles:[c.gg.MANAGER,c.gg.GUEST]}},{path:"sales",loadChildren:()=>Promise.all([i.e(2076),i.e(247)]).then(i.bind(i,247)).then(n=>n.SalesModule),canActivate:[f],data:{roles:[c.gg.SALESMAN]}},{path:"shared",loadChildren:()=>Promise.all([i.e(2076),i.e(8513)]).then(i.bind(i,8513)).then(n=>n.SharedModule),canActivate:[f],data:{roles:[c.gg.SALESMAN]}}]}];let X=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(B),u.iI]})}}return n})(),V=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,X,d.iu.forRoot()]})}}return n})()}}]);