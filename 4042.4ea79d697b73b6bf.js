"use strict";(self.webpackChunkims=self.webpackChunkims||[]).push([[4042],{1661:(k,_,i)=>{i.r(_),i.d(_,{ViewUserDetailsComponent:()=>M});var l=i(177),u=i(6354),c=i(980),a=i(9079),p=i(4774),m=i(765),f=i(1183),e=i(7705),D=i(5816),h=i(4710),E=i(6504);function v(s,r){if(1&s&&e.nrm(0,"app-loader",4),2&s){const t=e.XpG();e.Y8G("isVisible",t.loading)}}function g(s,r){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"app-user-form",5),e.bIt("actionEmitter",function(n){e.eBV(t);const d=e.XpG(2);return e.Njj(d.handleActions(n))}),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(1),e.Y8G("formData",t.userDetails)}}function R(s,r){1&s&&(e.j41(0,"div",16),e.qSk(),e.j41(1,"svg",17),e.nrm(2,"path",18),e.k0s()())}function x(s,r){if(1&s&&e.nrm(0,"img",19),2&s){const t=e.XpG(3);e.Y8G("src",null==t.userDetails?null:t.userDetails.photo,e.B4B)}}function U(s,r){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"div",6)(2,"div",7),e.DNE(3,R,3,0,"div",8),e.DNE(4,x,1,1,"img",9),e.k0s(),e.j41(5,"div",10)(6,"div",11)(7,"p"),e.EFF(8,"Name"),e.k0s(),e.j41(9,"p",12),e.EFF(10),e.k0s()(),e.j41(11,"div",11)(12,"p"),e.EFF(13,"Email"),e.k0s(),e.j41(14,"p",12),e.EFF(15),e.k0s()(),e.j41(16,"div",11)(17,"p"),e.EFF(18,"Mobile Number"),e.k0s(),e.j41(19,"p",12),e.EFF(20),e.k0s()(),e.j41(21,"div",11)(22,"p"),e.EFF(23,"Role"),e.k0s(),e.j41(24,"p",12),e.EFF(25),e.k0s()(),e.j41(26,"div",11)(27,"p"),e.EFF(28,"Designation"),e.k0s(),e.j41(29,"p",12),e.EFF(30),e.k0s()(),e.j41(31,"div",11)(32,"p"),e.EFF(33,"Status"),e.k0s(),e.j41(34,"p",12),e.EFF(35),e.k0s()()()(),e.j41(36,"div",13)(37,"div",14)(38,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.goBack())}),e.EFF(39," Go Back "),e.k0s()()()()}if(2&s){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!(null!=t.userDetails&&t.userDetails.photo)),e.R7$(1),e.Y8G("ngIf",null==t.userDetails?null:t.userDetails.photo),e.R7$(6),e.JRh(null==t.userDetails?null:t.userDetails.name),e.R7$(5),e.JRh(null==t.userDetails?null:t.userDetails.email),e.R7$(5),e.JRh(null==t.userDetails?null:t.userDetails.mobile_number),e.R7$(5),e.JRh(null==t.userDetails?null:t.userDetails.role),e.R7$(5),e.JRh(null==t.userDetails?null:t.userDetails.designation),e.R7$(5),e.JRh(null==t.userDetails?null:t.userDetails.status)}}function j(s,r){if(1&s&&(e.j41(0,"div"),e.DNE(1,g,2,1,"div",3),e.DNE(2,U,40,8,"div",3),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.editMode),e.R7$(1),e.Y8G("ngIf",!t.editMode)}}let M=(()=>{class s{constructor(t,o,n,d,b){this._httpService=t,this._location=o,this._destroyRef=n,this._activatedRoute=d,this._notificationService=b,this.editMode=!1,this.loading=!1,this._activatedRoute.paramMap.pipe((0,u.T)(()=>window.history.state)).pipe((0,a.pQ)(this._destroyRef)).subscribe(F=>{this.editMode=F.edit,console.log(this.editMode)})}ngOnInit(){this.loadUserDetails()}handleActions(t){"submit"===t.action?this.updateUserDetails(t.value):"back"===t.action&&this.goBack()}goBack(){this._location.back()}updateUserDetails(t){this.loading=!0,this._httpService.post(p.A.UPDATE_USER_DETAILS,t).pipe((0,a.pQ)(this._destroyRef),(0,c.j)(()=>this.loading=!1)).subscribe({next:o=>{this._notificationService.success("Success!",o?.body?.message),this._location.back()},error:o=>{console.log(o),this._notificationService.error("Error!",o?.error?.message)}})}loadUserDetails(){this.loading=!0,this._httpService.get(p.A.GET_USER_DETAILS,{oid:this.oid}).pipe((0,a.pQ)(this._destroyRef),(0,c.j)(()=>this.loading=!1)).subscribe({next:t=>{200===t.body.code&&(this.userDetails=t.body?.data)},error:t=>{console.error(t.message),this._notificationService.error("Error!",t?.error?.message)}})}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(D.k),e.rXU(l.aZ),e.rXU(e.abz),e.rXU(h.nX),e.rXU(E.xY))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-user-details"]],inputs:{oid:"oid"},standalone:!0,features:[e.aNF],decls:5,vars:2,consts:[[1,"p-4","space-y-3"],[1,"text-2xl","font-medium","mb-4","animate-text"],["class","w-full",3,"isVisible",4,"ngIf"],[4,"ngIf"],[1,"w-full",3,"isVisible"],[3,"formData","actionEmitter"],[1,"grid","grid-cols-1","gap-y-6","lg:gap-6","md:grid-cols-2","lg:grid-cols-3","border-[0.5px]","p-4","rounded-md"],[1,"p-4","border-[0.5px]","rounded-md","shadow-md","md:col-span-2","lg:col-span-1","flex","flex-col","items-center","justify-center"],["class"," flex flex-col items-center justify-center w-32 h-32 border-[0.5px] border-dashed rounded-full shadow-md cursor-pointer",4,"ngIf"],["class"," w-32 h-32 border-[0.5px] border-dashed rounded-full shadow-md","alt","User Photo",3,"src",4,"ngIf"],[1,"grid","grid-cols-1","gap-x-6","gap-y-4","md:grid-cols-2","border-[0.5px]","p-4","rounded-md","col-span-2"],[1,"space-y-1"],[1,"font-semibold","text-secondary"],[1,"flex","justify-end","mt-4"],[1,"flex","items-center","gap-4"],["type","button",1,"secondary-button",3,"click"],[1,"flex","flex-col","items-center","justify-center","w-32","h-32","border-[0.5px]","border-dashed","rounded-full","shadow-md","cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"],["alt","User Photo",1,"w-32","h-32","border-[0.5px]","border-dashed","rounded-full","shadow-md",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"User Details"),e.k0s(),e.DNE(3,v,1,1,"app-loader",2),e.DNE(4,j,3,2,"div",3),e.k0s()),2&o&&(e.R7$(3),e.Y8G("ngIf",n.loading),e.R7$(1),e.Y8G("ngIf",!n.loading&&n.userDetails))},dependencies:[l.MD,l.bT,m.V,f.f]})}}return s})()}}]);