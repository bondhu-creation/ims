"use strict";(self.webpackChunkims=self.webpackChunkims||[]).push([[3384],{4958:(f,d,t)=>{t.d(d,{V:()=>o});const o={MEASUREMENT_UNITS:[{label:"Kilogram (kg)",value:"kg"},{label:"Liter (L)",value:"l"},{label:"Piece (pcs)",value:"pcs"},{label:"Meter (m)",value:"m"},{label:"Box (box)",value:"box"},{label:"Pack (pack)",value:"pack"},{label:"Dozen (doz)",value:"doz"},{label:"Gram (g)",value:"g"},{label:"Ton (t)",value:"t"},{label:"Barrel (bbl)",value:"bbl"}],PRODUCT_NATURE:[{label:"For Sale",value:"for_sale"},{label:"For Office Use",value:"for_office_use"},{label:"For Delivery",value:"for_delivery"},{label:"For Packaging",value:"for_packaging"},{label:"For Storage",value:"for_storage"},{label:"For Maintenance",value:"for_maintenance"},{label:"For Personal Use",value:"for_personal_use"},{label:"For Promotion",value:"for_promotion"}],NATURE_OF_ASSET:[{label:"Tangible",value:"tangible"},{label:"Consumable",value:"consumable"},{label:"Fixed Asset",value:"fixed_asset"},{label:"Current Asset",value:"current_asset"},{label:"Intangible Asset",value:"intangible_asset"},{label:"Inventory",value:"inventory"},{label:"Depreciable",value:"depreciable"},{label:"Non-depreciable",value:"non_depreciable"}],SOURCE_TYPES:[{label:"Supplier",value:"supplier"},{label:"Dealer",value:"dealer"}],STORAGE_TYPES:[{label:"Pallet Storage",value:"pallet"},{label:"Shelf Storage",value:"shelf"},{label:"Bin Storage",value:"bin"},{label:"Bulk Storage",value:"bulk"},{label:"Cold Storage",value:"cold"},{label:"Rack Storage",value:"rack"},{label:"Drive-In Rack Storage",value:"drive_in_rack"},{label:"Drawer Storage",value:"drawer"},{label:"Secure Vaults",value:"secure_vaults"}],PURCHASE_TYPES:[{label:"Instant",value:"instant"},{label:"Advance",value:"advance"},{label:"Overseas",value:"overseas"}],PAYMENT_STATUS:[{label:"Paid",value:"paid"},{label:"Partially Paid",value:"partially_paid"},{label:"Unpaid",value:"unpaid"}],INTENDED_USE_OPTIONS:[{label:"For Sale",value:"for_sale"},{label:"For Internal Use",value:"for_internal_use"}],MONTHS:[{label:"January",value:"january"},{label:"February",value:"february"},{label:"March",value:"march"},{label:"April",value:"april"},{label:"May",value:"may"},{label:"June",value:"june"},{label:"July",value:"july"},{label:"August",value:"august"},{label:"September",value:"september"},{label:"October",value:"october"},{label:"November",value:"november"},{label:"December",value:"december"}],PRODUCT_RETURN_REASONS:[{label:"Item is broken or cracked",value:"broken"},{label:"Damaged product (before use)",value:"damaged_before_use"},{label:"Stopped working after short use",value:"damaged_after_use"},{label:"Wrong size or fit",value:"wrong_size"},{label:"Wrong product given",value:"wrong_product"},{label:"Product quality not satisfactory",value:"poor_quality"},{label:"Customer didn\u2019t like the product",value:"not_liked"},{label:"Product differs from description",value:"not_as_expected"},{label:"Duplicate item purchased",value:"duplicate_purchase"},{label:"Item was part of an exchange",value:"exchange"},{label:"Other (please specify)",value:"other"}],DISPOSAL_REASONS:[{label:"Expired",value:"expired"},{label:"Damaged in store",value:"damaged"},{label:"Customer Return - Unsellable",value:"customer_unsellable"},{label:"Opened Packaging",value:"opened"},{label:"Others",value:"others"}]}},1003:(f,d,t)=>{t.r(d),t.d(d,{ViewProductDisposeDetailsComponent:()=>C});var o=t(177),l=t(9475),p=t(765),u=t(7109),c=t(5720),v=t(8018),n=t(9079),_=t(4774),g=t(4958),m=t(6354),E=t(980),e=t(7705),h=t(5816),P=t(6504),D=t(4710),O=t(5703),T=t(1672);function M(s,b){if(1&s&&e.nrm(0,"app-loader",6),2&s){const a=e.XpG();e.Y8G("isVisible",a.loading)}}function R(s,b){if(1&s){const a=e.RV6();e.j41(0,"div",8)(1,"nz-card",9)(2,"div",10)(3,"div",11)(4,"p"),e.EFF(5,"Product Name"),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.nI1(8,"safeText"),e.k0s()(),e.j41(9,"div",11)(10,"p"),e.EFF(11,"Batch Code"),e.k0s(),e.j41(12,"p",12),e.EFF(13),e.nI1(14,"safeText"),e.k0s()(),e.j41(15,"div",11)(16,"p"),e.EFF(17,"Disposed Quantity"),e.k0s(),e.j41(18,"p",12),e.EFF(19),e.nI1(20,"safeText"),e.k0s()(),e.j41(21,"div",11)(22,"p"),e.EFF(23,"Date Of Disposal"),e.k0s(),e.j41(24,"p",12),e.EFF(25),e.nI1(26,"safeText"),e.k0s()(),e.j41(27,"div",11)(28,"p"),e.EFF(29,"Disposed By"),e.k0s(),e.j41(30,"p",12),e.EFF(31),e.nI1(32,"safeText"),e.k0s()()()(),e.j41(33,"nz-card",13)(34,"div",10)(35,"div",11)(36,"p"),e.EFF(37,"Date Of Purchase"),e.k0s(),e.j41(38,"p",12),e.EFF(39),e.nI1(40,"safeText"),e.k0s()(),e.j41(41,"div",11)(42,"p"),e.EFF(43,"Purchased Quantity"),e.k0s(),e.j41(44,"p",12),e.EFF(45),e.nI1(46,"safeText"),e.k0s()(),e.j41(47,"div",11)(48,"p"),e.EFF(49,"Purchased Price"),e.k0s(),e.j41(50,"p",12),e.EFF(51),e.nI1(52,"safeText"),e.k0s()(),e.j41(53,"div",11)(54,"p"),e.EFF(55,"Supplier Name"),e.k0s(),e.j41(56,"p",12),e.EFF(57),e.nI1(58,"safeText"),e.k0s()()()(),e.j41(59,"div",14)(60,"div",15)(61,"secondary-button",16),e.bIt("click",function(){e.eBV(a);const r=e.XpG(2);return e.Njj(r.goBack())}),e.k0s()()()()}if(2&s){const a=e.XpG(2);e.R7$(7),e.SpI("",e.bMT(8,10,null==a.disposeDetails?null:a.disposeDetails.product_name)," "),e.R7$(6),e.JRh(e.bMT(14,12,null==a.disposeDetails?null:a.disposeDetails.batch_code)),e.R7$(6),e.JRh(e.bMT(20,14,null==a.disposeDetails?null:a.disposeDetails.dispose_quantity)),e.R7$(6),e.SpI("",e.bMT(26,16,null==a.disposeDetails?null:a.disposeDetails.created_on)," "),e.R7$(6),e.SpI("",e.bMT(32,18,null==a.disposeDetails?null:a.disposeDetails.created_by)," "),e.R7$(8),e.SpI("",e.bMT(40,20,null==a.disposeDetails?null:a.disposeDetails.purchase_date)," "),e.R7$(6),e.SpI("",e.bMT(46,22,null==a.disposeDetails?null:a.disposeDetails.purchase_quantity)," "),e.R7$(6),e.JRh(e.bMT(52,24,null==a.disposeDetails?null:a.disposeDetails.purchase_unit_price)),e.R7$(6),e.JRh(e.bMT(58,26,null==a.disposeDetails?null:a.disposeDetails.supplier_name)),e.R7$(4),e.Y8G("label","Go Back")}}function y(s,b){if(1&s&&(e.j41(0,"div"),e.DNE(1,R,62,28,"div",7),e.k0s()),2&s){const a=e.XpG();e.R7$(1),e.Y8G("ngIf",!a.editMode)}}function I(s,b){1&s&&(e.j41(0,"div",17),e.nrm(1,"img",18),e.j41(2,"h2",19),e.EFF(3,"No Data Found"),e.k0s()())}function F(s,b){1&s&&e.nrm(0,"nz-empty",20)}let C=(()=>{class s{constructor(a,i,r,S,x,U){this._httpService=a,this._destroyRef=i,this._notificationService=r,this._activatedRoute=S,this._location=x,this._router=U,this.editMode=!1,this.loading=!1,this.returnReasons=[],this._activatedRoute.paramMap.pipe((0,m.T)(()=>window.history.state)).pipe((0,n.pQ)(this._destroyRef)).subscribe(k=>{this.editMode=k.edit})}ngOnInit(){this.loadProductDisposeDetails(),this.returnReasons=g.V.PRODUCT_RETURN_REASONS}goBack(){this._location.back()}handleActions(a){"back"===a.action?this.goBack():console.log("Action not handled:",a.action)}redirectToSale(){this._router.navigate(["/manager/inventory/invoice/invoice-list/view-invoice",this.disposeDetails?.sales_oid],{state:{edit:!1}})}redirectToSupplier(a){a?.supplier_oid&&this._router.navigate(["/manager/configuration/supplier/view-supplier",a.supplier_oid],{state:{edit:!1}})}getReturnReasonLabel(a){return this.returnReasons.find(i=>i.value===a)?.label||"Unknown Reason"}loadProductDisposeDetails(){this.loading=!0,this._httpService.get(_.A.GET_PRODUCT_DISPOSE_DETAILS,{oid:this.oid}).pipe((0,n.pQ)(this._destroyRef),(0,E.j)(()=>this.loading=!1)).subscribe({next:a=>{200===a.status&&(this.disposeDetails=a?.body?.data,console.log(this.disposeDetails))},error:a=>{console.log(a),this._notificationService.error("Error!",a?.error?.message)}})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(h.k),e.rXU(e.abz),e.rXU(P.xY),e.rXU(D.nX),e.rXU(o.aZ),e.rXU(D.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-product-dispose-details"]],inputs:{oid:"oid"},standalone:!0,features:[e.aNF],decls:8,vars:3,consts:[[1,"p-4","space-y-3"],[1,"text-2xl","font-medium","mb-4","animate-text"],[3,"isVisible",4,"ngIf"],[4,"ngIf"],["class","flex flex-col items-center justify-center h-full text-center bg-gray-50 p-8 rounded-md space-y-4",4,"ngIf"],["noProducts",""],[3,"isVisible"],["class","space-y-4",4,"ngIf"],[1,"space-y-4"],["nzTitle","Dispose Information"],[1,"grid","grid-cols-1","gap-x-6","gap-y-4","md:grid-cols-3"],[1,"space-y-1"],[1,"font-semibold","text-secondary"],["nzTitle","Purchase Information"],[1,"flex","justify-end","mt-4"],[1,"flex","items-center","gap-4"],[3,"label","click"],[1,"flex","flex-col","items-center","justify-center","h-full","text-center","bg-gray-50","p-8","rounded-md","space-y-4"],["src","assets/icons/no_data.svg","alt","No Data Found"],[1,"text-lg","font-semibold","text-black"],["nzNotFoundContent","No Data Found"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Product Disposal Details"),e.k0s(),e.DNE(3,M,1,1,"app-loader",2),e.DNE(4,y,2,1,"div",3),e.DNE(5,I,4,0,"div",4),e.DNE(6,F,1,0,"ng-template",null,5,e.C5r),e.k0s()),2&i&&(e.R7$(3),e.Y8G("ngIf",r.loading),e.R7$(1),e.Y8G("ngIf",!r.loading&&r.disposeDetails),e.R7$(1),e.Y8G("ngIf",!r.loading&&!r.disposeDetails))},dependencies:[o.MD,o.bT,p.V,l.t,c.R,u.Z,O.cK,T.RW,v.h]})}}return s})()},9475:(f,d,t)=>{t.d(d,{t:()=>p});var o=t(177),l=t(7705);let p=(()=>{class u{constructor(){this.type="button"}static{this.\u0275fac=function(n){return new(n||u)}}static{this.\u0275cmp=l.VBU({type:u,selectors:[["secondary-button"]],inputs:{label:"label",type:"type"},standalone:!0,features:[l.aNF],decls:4,vars:1,consts:[["type","button",1,"min-w-min","group","relative","flex","items-center","gap-4","overflow-hidden","rounded-sm","bg-white","px-6","py-2","shadow","font-medium","disabled:cursor-wait"],[1,"absolute","inset-0","w-2","bg-[#8D99AE]","transition-all","duration-300","ease-in-out","group-hover:w-full"],[1,"relative","z-10","whitespace-nowrap","text-black","transition-all","duration-300","group-hover:text-white"]],template:function(n,_){1&n&&(l.j41(0,"button",0),l.nrm(1,"div",1),l.j41(2,"span",2),l.EFF(3),l.k0s()()),2&n&&(l.R7$(3),l.SpI(" ",_.label," "))},dependencies:[o.MD]})}}return u})()},765:(f,d,t)=>{t.d(d,{V:()=>u});var o=t(177),l=t(7705);function p(c,v){1&c&&(l.j41(0,"div",1),l.nrm(1,"span")(2,"span")(3,"span")(4,"span")(5,"span"),l.k0s())}let u=(()=>{class c{constructor(){this.isVisible=!1,this.showLoader=!1}ngOnInit(){this.isVisible&&(this.showLoader=!0,setTimeout(()=>{this.showLoader=!1},500))}static{this.\u0275fac=function(_){return new(_||c)}}static{this.\u0275cmp=l.VBU({type:c,selectors:[["app-loader"]],inputs:{isVisible:"isVisible"},standalone:!0,features:[l.aNF],decls:1,vars:1,consts:[["class","loading",4,"ngIf"],[1,"loading"]],template:function(_,g){1&_&&l.DNE(0,p,6,0,"div",0),2&_&&l.Y8G("ngIf",g.isVisible)},dependencies:[o.MD,o.bT],styles:[".loading[_ngcontent-%COMP%]{--speed-of-animation: .9s;--gap: 6px;--first-color: #4c86f9;--second-color: #49a84c;--third-color: #f6bb02;--fourth-color: #f6bb02;--fifth-color: #2196f3;display:flex;justify-content:center;align-items:center;gap:6px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:4px;height:50px;background:var(--first-color);animation:_ngcontent-%COMP%_scale var(--speed-of-animation) ease-in-out infinite}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){background:var(--second-color);animation-delay:-.8s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){background:var(--third-color);animation-delay:-.7s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){background:var(--fourth-color);animation-delay:-.6s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){background:var(--fifth-color);animation-delay:-.5s}@keyframes _ngcontent-%COMP%_scale{0%,40%,to{transform:scaleY(.05)}20%{transform:scaleY(1)}}"]})}}return c})()}}]);